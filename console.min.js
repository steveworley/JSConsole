javascript:(function(){function consoleInit(){if(typeof jQuery=="undefined"){if(!isLoaded){isLoaded=true;var a=document.createElement("script");a.src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js";document.getElementsByTagName("head")[0].appendChild(a)}setTimeout("consoleInit()",50)}else{jQuery(function(a){JSConsole.init()})}}var isLoaded=false;JSConsole={date:(new Date).getTime(),$input:"",$output:"",commandLog:[],localVars:{},documentTags:[],map:[],inspector:"",helper:/^(border|reset|dim|inspect)/,init:function(){var a=this;a.commandLog=a.cookies("get");var b=a.buildElement({name:"js-input-"+a.date,type:"textarea",styles:"width:49%; float: left; height: 150px; resize: none; padding: 5px; border: 1px solid #d8d8d8; font-size: 13px; font-family: monospace; outline: none;"});var c=a.buildElement({name:"js-output-"+a.date,type:"div",content:"",styles:"width: 49%; float: right; height: 150px; background: #fafafa; padding: 5px; border: 1px solid #d8d8d8; font-size: 12px; font-family: monospace; overflow-y: scroll"});var d=a.buildElement({name:"js-container-"+a.date,type:"div",content:'<div style="padding: 10px; overflow: hidden;"><div><a style="margin-right: 5px; border:0;" title="Reset your console" href="#reset-output"><img style="border:0;" src="http://cdn1.iconfinder.com/data/icons/fatcow/32x32_0060/arrow_rotate_anticlockwise.png" width="16" height="16" /></a><a style="margin-right: 5px; border: 0;" title="Add a border to elements" href="#border"><img style="border:0;" src="http://cdn1.iconfinder.com/data/icons/fatcow/32x32/table_select_big.png" height="16" width="16" /></a><a style="margin-right: 5px; border: 0;" title="Open/close the inspector" href="#inspectToggle"><img style="border:0;" src="http://cdn1.iconfinder.com/data/icons/fatcow/32x32/document_inspect.png" height="16" width="16" /></a></div>'+b+c+"</div>",styles:"background: #fafafa; border-top: 1px solid #dedede; position: fixed; bottom: 0; left: 0; width:100%"});$.when($("body").append(d)).done(function(){$("body").css("padding-bottom","183px");a.$input=$('[name="js-input-'+a.date+'"]');a.$output=$('[name="js-output-'+a.date+'"]');a.binds()});a.helpers({name:"inspect"})},binds:function(){var a=this;a.$input.bind("keyup",function(b){var c=$(this).data("count")!=undefined?parseInt($(this).data("count")):-1;switch(b.which){case 38:$(this).val(a.getCommand("up",c));break;case 40:$(this).val(a.getCommand("down",c));break;case 13:b.preventDefault();a.checkCommand($(this).val());return false;break;default:return false;break}return false});$('[name="js-container-'+a.date+'"]" a[href^="#"]').bind("click",function(b){var c=$(this);var d=c.attr("href").replace("#","");var e={name:d,params:[]};switch(d){case"border":var f=prompt("Enter your selector","body");var g=prompt("Please enter your color","red");e.params.push(f);e.params.push(g);default:break}a.helpers(e);b.preventDefault()})},getCommand:function(a,b){var c=this;var d=c.commandLog;var b=a=="up"?b+1:b-1;if(a=="up"&&b<=d.length){c.$input.data("count",b);return d[b]}if(a=="down"&&b>-1){c.$input.data("count",b);return d[b]}},checkCommand:function(command){var self=this;var output=false;if(command.search(/^console\.(log|warn|error)/g)!=-1){var string=command.replace(/console\.(log|warn|error)/,"");string=string.match(/\((.*)\)/)[1];if(string.search(/^(\$)/)>-1)output=eval(string);if(string.search(/^(\'|\")/)>-1)output=string.replace(/(\'|\")/g,"");if(typeof window[$.trim(string)]!="undefined")output=window[$.trim(string)]}else if(command.search(/var/)!=-1){var string=command.replace("var","");var key="";var element="";string=string.split("=");key=$.trim(string[0]);element=$.trim(string[1].replace(/('|")/g,""));window[key]=element;output=command}else if(command.search(self.helper)>-1){var name=command.match(self.helper)[0];var params=command.match(/\((.*)\)/)[1].split(",");var options={name:"",params:[]};options["name"]=name;$.each(params,function(a,b){options["params"].push(b.replace(/(\'|\")/g,""))});self.helpers(options);output='<span style="color:#458b00">'+command+"</span>"}else{try{$.when(eval(command)).done(function(){output='<span style="color:#458b00">'+command+"</span>";self.$output.append(output+"<br />");self.$input.val("");self.commandLog.push($.trim(command));self.cookies("set");return true})}catch(err){self.$output.append('<span style="color:#f00">'+err+"</span><br />")}return true}if(output!==false){self.$output.append(output+"<br />");self.$input.val("");self.commandLog.push($.trim(command));self.cookies("set");return true}},buildElement:function(a){var b=this;var c="";if(typeof a!="object")return false;switch(a["type"]){case"div":c='<div class="__jsconsole" style="'+a["styles"]+'" name="'+a["name"]+'">'+a["content"]+"</div>";break;case"textarea":c='<textarea class="__jsconsole" style="'+a["styles"]+'" name="'+a["name"]+'"></textarea>';break;case"p":c='<div class="__jsconsole" style="'+a["styles"]+'" name="'+a["name"]+'">'+a["content"]+"</p>"}return c},cookies:function(a){var b=this;if(a.search(/(set|get|reset)/)==-1)return false;switch(a){case"set":document.cookie="__jsconsolecommands="+b.commandLog.join("|");break;case"get":var c=document.cookie.split(";");var d=[];$.each(c,function(a,b){if(b.search("__jsconsolecommands")>-1){d=b.replace("__jsconsolecommands=","").split("|")}});return d;break;case"reset":b.commandLog=[];document.cookie="__jsconsolecommands=;";default:break}},helpers:function(a){var b=this;if(typeof a!="object")return false;var c=a["params"];switch(a["name"]){case"border":var d=$(c[0]);if(d.length>-1)d.css("border","1px solid "+c[1]);break;case"reset":var d=$(c[0]);if(d.length>-1)d.removeAttr("style");break;case"dim":var d=$(c[0]);if(d.length>-1)b.$output.append(c[0]+" width: "+d.width()+", height: "+d.height()+"<br />");break;case"inspect":var e="";var f=b.buildElement({name:"js-inspector-"+b.date,type:"div",content:'<div style="padding: 10px; overflow: hidden;"><strong>Inspector</strong><br />{output}</div>',styles:"background: #fafafa; border-top: 1px solid #dedede; position: fixed; top: 0; right: 0; width:250px; height: 400px; overflow-y: scroll; font-family: sans-serif; font-size: 11px; line-height: 16px; display: none;"});var g=b.buildElement({name:"parent-{lvl}",type:"div",content:'<span class="parent" data-index="{index}" style="cursor:pointer; display: block;"><{tagname}{class}></span><div class="children" style="display:none;">{children}</div>',styles:""});b.inspector({func:"children",el:$("body"),level:0});$.each(b.documentTags,function(a,c){var d=g.replace(/({lvl}|{tagname}|{class}|{index})/g,function(a){switch(a){case"{lvl}":return c["level"]!==undefined?c["level"]:"";break;case"{tagname}":return c["tagname"]!==undefined?c["tagname"]:"";break;case"{class}":return c["class"]!==undefined?' class="'+c["class"]+'"':"";break;case"{index}":return c["obj"]!==undefined?"":"";break;default:break}});if(c["child"].length>-1)d=d.replace(/({children})/,b.inspector({func:"displayChildren",el:c["child"],span:'<span class="level-{lvl}" data-index="{index}" style="margin-left:{margin}px; cursor:pointer; display: block;"><{tagname}{class}></span>'}));e+=d});f=f.replace(/({output})/,e);if(e!=""){$.when($("body").append(f)).done(function(){var a=$("body").children();$('[name="js-inspector-'+b.date+'"] span').each(function(a,c){var d=$(c);var e="none";var f=b.map[a];d.bind({mouseenter:function(){e=f.css("background-color");f.css("background-color","#DBE6FF");d.css("background-color","#dbe6ff")},mouseleave:function(){f.css("background-color",e);d.css("background-color","transparent")},click:function(){$(this).parent().find(".children").slideToggle("slow")}})})})}break;case"inspectToggle":$('[name="js-inspector-'+b.date+'"]').toggle("slow");break;case"reset-output":b.cookies("reset");b.$output.html("Cookies have been cleared");break;default:b.$output.append(a["name"]+" is not a supported command<br />");break}},inspector:function(a){var b=this;switch(a.func){case"children":var c=a.el;if(c.children().length>0){$.each(c.children(),function(c,d){var e=$(d);var f={tagname:"","class":"",obj:"",level:a.level,child:""};b.map.push(e);if(e.hasClass("__jsconsole")){}else{f["tagname"]=e.prop("tagName").toLowerCase();f["class"]=e.attr("class");f["obj"]=e;if(e.children().length>0){f["child"]=b.inspector({func:"getchildren",el:e,level:a.level+1})}b.documentTags.push(f)}})}else{return false}break;case"getchildren":var c=a.el;var d=[];$.each(c.children(),function(c,e){var f=$(e);var g={tagname:"","class":"",obj:"",level:a.level,child:""};b.map.push(f);if(f.hasClass("__jsconsole")){}else{g["tagname"]=f.prop("tagName").toLowerCase();g["class"]=f.attr("class");g["obj"]=f;if(f.children().length>0){g["child"]=b.inspector({func:"getchildren",el:f,level:a.level+1})}d.push(g)}});return d;break;case"displayChildren":var e=a.el;var f=a.span;var g="";$.each(e,function(a,c){g+=f.replace(/({lvl}|{tagname}|{class}|{margin}|{index})/g,function(a){switch(a){case"{lvl}":return c["level"]!==undefined?c["level"]:"";break;case"{tagname}":return c["tagname"]!==undefined?c["tagname"]:"";break;case"{class}":return c["class"]!==undefined?' class="'+c["class"]+'"':"";break;case"{margin}":return c["level"]!==undefined?parseInt(c["level"])*10:"0";case"{index}":return c["obj"]!==undefined?"":"";break;default:break}});if(c["child"].length>-1)g+=b.inspector({func:"displayChildren",el:c["child"],span:'<span class="level-{lvl}" style="margin-left:{margin}px; cursor:pointer; display: block;"><{tagname}{class}></span>'})});return g;break;case"map":default:return false;break}},stringify:function(a){var b=this;var c=typeof a;if(c!="object"||a===null){if(c=="string")a='"'+a+'"';return String(a)}else{var d,e,f=[],g=a&&a.constructor==Array;for(d in a){e=a[d];c=typeof e;if(c=="string")e='"'+e+'"';else if(c=="object"&&e!==null)e=b.stringify(e);f.push((g?"":'"'+d+'":')+String(e))}return(g?"[":"{")+String(f)+(g?"]":"}")}}};consoleInit()})();